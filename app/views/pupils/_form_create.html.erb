<%= form_with(model: pupil, local: true) do |form| %>
  <% if pupil.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(pupil.errors.count, "error") %>
        prohibited this pupil from being saved:
      </h2>
      <ul>
        <% pupil.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="ml-4 mb-4">
    <div class="row">
      <div class="card" style="width: 18rem;">
        <% if @pupil.picture.attached? && @pupil.has_picture? %>
          <%= image_tag(@pupil.picture, class: "card-img-top", id: "shot") %>
        <% else %>
          <img class="card-img-top" src="/cat.jpg" id="shot">
        <% end %>
      </div>

      <div class="card ml-2" style="width: 18rem;" id="viewfinder">
        <video width="288" height="301" autoplay class=""></video>
      </div>
    </div>

    <div class="mt-2">
      <button type="button" class="btn btn-dark btn-sm" id="change_picture">Change Picture</button>
      <button type="button" class="btn btn-dark btn-sm" id="snap">Snap</button>
    </div>
  </div>

  <div class="form-group col-6">
    <%= form.label :klass, "Класс" %>
    <%= form.text_field :klass, class: "form-control" %>
  </div>

  <div class="form-group col-6">
    <%= form.label :name, "Фамилия, Имя" %>
    <%= form.date_field :name, class: "form-control" %>
  </div>

  <div class="form-group col-6">
    <%= form.label :food, "Питание" %>
    <%= form.text_field :food, class: "form-control" %>
  </div>

  <div class="form-group col-6">
    <%= form.label :presence, "Присутствие" %>
    <%= form.number_field :presence, class: "form-control" %>
  </div>


  <div class=" form-group col-6 row ml-2">
    <div class="">
      <%= form.submit class: "btn btn-dark" %>
    </div>

    <%= link_to "Back", root_path, class: 'btn btn-dark ml-4' %>
  </div>


  <%= form.hidden_field :pupil_picture, value: @pupil.pupil_picture %>
<% end %>